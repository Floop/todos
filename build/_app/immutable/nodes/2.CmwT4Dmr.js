import{t as N,a as I}from"../chunks/BddpGaw7.js";import{i as F}from"../chunks/DUkzwFji.js";import{M as se,x as le,V as O,B as p,N as ie,U as fe,e as S,b as de,ac as ue,ad as G,a5 as L,C as A,a6 as ve,ae as W,y as Z,af as ce,an as R,aa as j,Q as P,ao as _e,m as he,ap as z,aq as me,ar as pe,a9 as ge,as as Te,A as ye,at as Ee,au as Se,a3 as be,a0 as ke,av as Ae,aw as Ie,ax as Ne,ay as xe,az as De,a as we,ai as Me,ak as Ce,f as Oe,h as H,F as J,H as K,D as ee,K as D,I as ae,J as B,G as Le}from"../chunks/CnhiJ9A1.js";import{a as Re,l as He,e as Y,s as Ue}from"../chunks/CeB1ijYw.js";import{p as Be}from"../chunks/CeHI2Yew.js";function Ye(a,e,r,t){for(var o=[],s=e.length,l=0;l<s;l++)pe(e[l].e,o,!0);var v=s>0&&o.length===0&&r!==null;if(v){var _=r.parentNode;ge(_),_.append(r),t.clear(),E(a,e[0].prev,e[s-1].next)}Te(o,()=>{for(var c=0;c<s;c++){var n=e[c];v||(t.delete(n.k),E(a,n.prev,n.next)),ye(n.e,!v)}})}function qe(a,e,r,t,o,s=null){var l=a,v={flags:e,items:new Map,first:null};{var _=a;l=p?O(ie(_)):_.appendChild(se())}p&&fe();var c=null,n=!1,m=de(()=>{var i=r();return ke(i)?i:i==null?[]:j(i)});le(()=>{var i=S(m),u=i.length;if(n&&u===0)return;n=u===0;let f=!1;if(p){var k=l.data===ue;k!==(u===0)&&(l=G(),O(l),L(!1),f=!0)}if(p){for(var g=null,d,h=0;h<u;h++){if(A.nodeType===8&&A.data===ve){l=A,f=!0,L(!1);break}var x=i[h],b=t(x,h);d=re(A,v,g,null,x,b,h,o,e,r),v.items.set(b,d),g=d}u>0&&O(G())}p||Fe(i,v,l,o,e,t,r),s!==null&&(u===0?c?W(c):c=Z(()=>s(l)):c!==null&&ce(c,()=>{c=null})),f&&L(!0),S(m)}),p&&(l=A)}function Fe(a,e,r,t,o,s,l){var v=a.length,_=e.items,c=e.first,n=c,m,i=null,u=[],f=[],k,g,d,h;for(h=0;h<v;h+=1){if(k=a[h],g=s(k,h),d=_.get(g),d===void 0){var x=n?n.e.nodes_start:r;i=re(x,e,i,i===null?e.first:i.next,k,g,h,t,o,l),_.set(g,i),u=[],f=[],n=i.next;continue}if(Je(d,k,h),(d.e.f&R)!==0&&W(d.e),d!==n){if(m!==void 0&&m.has(d)){if(u.length<f.length){var b=f[0],T;i=b.prev;var $=u[0],M=u[u.length-1];for(T=0;T<u.length;T+=1)Q(u[T],b,r);for(T=0;T<f.length;T+=1)m.delete(f[T]);E(e,$.prev,M.next),E(e,i,$),E(e,M,b),n=b,i=M,h-=1,u=[],f=[]}else m.delete(d),Q(d,n,r),E(e,d.prev,d.next),E(e,d,i===null?e.first:i.next),E(e,i,d),i=d;continue}for(u=[],f=[];n!==null&&n.k!==g;)(n.e.f&R)===0&&(m??(m=new Set)).add(n),f.push(n),n=n.next;if(n===null)continue;d=n}u.push(d),i=d,n=d.next}if(n!==null||m!==void 0){for(var C=m===void 0?[]:j(m);n!==null;)(n.e.f&R)===0&&C.push(n),n=n.next;var oe=C.length;if(oe>0){var ne=v===0?r:null;Ye(e,C,ne,_)}}P.first=e.first&&e.first.e,P.last=i&&i.e}function Je(a,e,r,t){_e(a.v,e),a.i=r}function re(a,e,r,t,o,s,l,v,_,c){var n=(_&Ee)!==0,m=(_&Se)===0,i=n?m?he(o):z(o):o,u=(_&me)===0?l:z(l),f={i:u,v:i,k:s,a:null,e:null,prev:r,next:t};try{return f.e=Z(()=>v(a,i,u,c),p),f.e.prev=r&&r.e,f.e.next=t&&t.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),t!==null&&(t.prev=f,t.e.prev=f.e),f}finally{}}function Q(a,e,r){for(var t=a.next?a.next.e.nodes_start:r,o=e?e.e.nodes_start:r,s=a.e.nodes_start;s!==t;){var l=be(s);o.before(s),s=l}}function E(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}const Ke=Symbol("is custom element"),Ve=Symbol("is html");function $e(a){if(p){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var t=a.value;w(a,"value",null),a.value=t}if(a.hasAttribute("checked")){var o=a.checked;w(a,"checked",null),a.checked=o}}};a.__on_r=r,Ae(r),Re()}}function w(a,e,r,t){var o=Ge(a);p&&(o[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||o[e]!==(o[e]=r)&&(e==="loading"&&(a[Ie]=r),r==null?a.removeAttribute(e):typeof r!="string"&&Pe(a).includes(e)?a[e]=r:a.setAttribute(e,r))}function Ge(a){return a.__attributes??(a.__attributes={[Ke]:a.nodeName.includes("-"),[Ve]:a.namespaceURI===Ne})}var X=new Map;function Pe(a){var e=X.get(a.nodeName);if(e)return e;X.set(a.nodeName,e=[]);for(var r,t=a,o=Element.prototype;o!==t;){r=De(t);for(var s in r)r[s].set&&e.push(s);t=xe(t)}return e}function ze(a,e,r=e){He(a,"change",t=>{var o=t?a.defaultChecked:a.checked;r(o)}),(p&&a.defaultChecked!==a.checked||we(e)==null)&&r(a.checked),Me(()=>{var t=e();a.checked=!!t})}function Qe(a){return function(...e){var r=e[0];return r.preventDefault(),a==null?void 0:a.apply(this,e)}}const q="todos";let te=[];if(localStorage.hasOwnProperty(q))try{te=JSON.parse(localStorage.getItem(q))}catch(a){console.error("Error parsing todos from localStorage:",a)}let y=Ce(Oe(te));const U=()=>{localStorage.setItem(q,JSON.stringify(S(y)))},V=()=>({get todos(){return S(y)},add:a=>{H(y,[...S(y),a],!0),U()},changeDone:a=>{H(y,S(y).map(e=>e.id===a?{...e,done:!e.done}:e),!0),U()},remove:a=>{H(y,S(y).filter(e=>e.id!==a),!0),U()}});var Xe=N('<form><label for="name">Todo:</label> <input type="text" id="name" name="name" placeholder="Enter a new todo"> <button type="submit">Add Todo</button></form>');function We(a,e){J(e,!1);let r=V();const t=s=>{const v=new FormData(s.target).get("name");v&&(r.add({id:crypto.randomUUID(),name:v,done:!1}),s.target.reset())};F();var o=Xe();Y("submit",o,Qe(t)),I(a,o),K()}var Ze=N('<input type="checkbox"> <label> </label> <button>Remove</button>',1);function je(a,e){J(e,!1);let r=V(),t=Be(e,"todo",12);F();var o=Ze(),s=ee(o);$e(s);var l=D(s,2),v=ae(l);B(l);var _=D(l,2);Le(()=>{w(s,"id",t().id),w(l,"for",t().id),Ue(v,`${t().name??""} (${t().done?"done":"not done"})`)}),ze(s,()=>t().done,c=>t(t().done=c,!0)),Y("change",s,()=>r.changeDone(t().id)),Y("click",_,()=>r.remove(t().id)),I(a,o),K()}var ea=N("<li><!></li>"),aa=N("<ul></ul>");function ra(a,e){J(e,!1);let r=V();F();var t=aa();qe(t,5,()=>r.todos,o=>o.id,(o,s)=>{var l=ea(),v=ae(l);je(v,{get todo(){return S(s)}}),B(l),I(o,l)}),B(t),I(a,t),K()}var ta=N("<h1>Todos</h1> <!> <!>",1);function oa(a){var e=ta(),r=D(ee(e),2);We(r,{});var t=D(r,2);ra(t,{}),I(a,e)}function da(a){oa(a)}export{da as component};
